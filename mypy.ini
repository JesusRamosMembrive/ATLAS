[mypy]
# Global mypy configuration
python_version = 3.12

# Ignore missing imports for third-party libraries without stubs
ignore_missing_imports = True

# Don't warn about unused type: ignore comments
warn_unused_ignores = False

# Exclude directories
exclude = (?x)(
    ^cpp/
    | ^\.venv/
    | ^node_modules/
    | ^\.git/
  )

# Specific overrides for libraries without type stubs
[mypy-tree_sitter_languages]
ignore_missing_imports = True

[mypy-tree_sitter_languages.*]
ignore_missing_imports = True

# SQLModel/SQLAlchemy integration has type issues with column operations
[mypy-code_map.audit.storage]
disable_error_code = arg-type, operator, union-attr

[mypy-code_map.linters.storage]
disable_error_code = arg-type, union-attr, attr-defined

[mypy-code_map.insights.storage]
disable_error_code = union-attr

# Platform-specific code (Windows PTY)
[mypy-code_map.terminal.winpty_shell]
disable_error_code = valid-type, attr-defined, union-attr

[mypy-code_map.terminal.__init__]
disable_error_code = assignment

# API modules with FastAPI/Starlette type issues
[mypy-code_map.api.error_handlers]
disable_error_code = arg-type

[mypy-code_map.api.terminal]
disable_error_code = union-attr, arg-type, attr-defined

# Stage framework - dict sorting with dynamic keys
[mypy-stage_config]
disable_error_code = arg-type, return-value
